package com.byagowi.persiancalendar

import com.byagowi.persiancalendar.ui.converter.qr
import org.junit.jupiter.api.Test
import kotlin.test.assertEquals

class QrTests {
    @Test
    fun `basic qr test`() {
        val expected = """
*******.**..*..*.***..*******
*.....*.*..*...**.*...*.....*
*.***.*..*..*....****.*.***.*
*.***.*.**.*..**...*..*.***.*
*.***.*...*.*.*.**.*..*.***.*
*.....*...***..*..***.*.....*
*******.*.*.*.*.*.*.*.*******
........**...*.**..*.........
*.**.***.**.....*.....*..*.**
..***.......*.**..***.***...*
..*.*.*.****.***.**...*...**.
**.*....**....*..**...**.*..*
**..*.****.**.**.........**..
*.*..*.**.*.*.*.**.*..*....**
**..***..*..****..**..*.*****
**.**..****.****.*.**..*...*.
*..******.***.***..***.**..*.
...*......****..***.......**.
*.*..****.*.**......*.**.**..
........*.*...*.*....*....*..
.**..****..*.*..*.*********..
........***..*.**.*.*...*****
*******.*.*..*.*.****.*.**.*.
*.....*.*.**...****.*...*..**
*.***.*..****.*.*.*.*********
*.***.*.*..*.***..*.**..***.*
*.***.*.*.*..*.*.*..**.*..*.*
*.....*....*.*****..**.*.*.*.
*******.**.*.*...****....*.*.
""".trim()

        val result = qr("http://www.example.com/ążśźęćńół")
        assertEquals(
            expected,
            result.joinToString("\n") { row ->
                row.joinToString("") { if (it) "*" else "." }
            }
        )
    }
}
